(function(t){function e(e){for(var r,n,o=e[0],l=e[1],u=e[2],p=0,d=[];p<o.length;p++)n=o[p],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&d.push(i[n][0]),i[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);c&&c(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],r=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(r=!1)}r&&(s.splice(e--,1),t=n(n.s=a[0]))}return t}var r={},i={app:0},s=[];function n(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=r,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/top-lists/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"02bd":function(t,e,a){},"034f":function(t,e,a){"use strict";var r=a("5c89"),i=a.n(r);i.a},"0c56":function(t,e,a){},"14ea":function(t,e,a){},1662:function(t,e,a){},"1ade":function(t,e,a){a("3399"),String.prototype.toTitleCase=function(){let t=this.split(" "),e=[];for(var a of t)e.push(`${a[0].toUpperCase()}${a.slice(1).toLowerCase()}`);return e.join(" ")}},2177:function(t,e,a){"use strict";var r=a("14ea"),i=a.n(r);i.a},"3a00":function(t,e,a){},4442:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("5f41");var r=a("7c54"),i=a("8343"),s=a("220c"),n=a("b563"),o=a.n(n),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"maximize_size"},[t.is_authed?a("MainView",{attrs:{preview_mode:t.is_preview,dev_mode:t.is_dev}}):a("LoginCard")],1)},u=[],c=(a("3399"),a("10de"),a("1ade"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"maximize_size",attrs:{id:"login_screen"}},[a("div",{staticClass:"card"},[t.error?a("div",{staticClass:"alert error"},[t._v(" "+t._s(t.error)+" ")]):t._e(),a("a",{attrs:{href:t.spotify_auth_url}},[a("button",[t._v("Login With Spotify")])]),a("p",{staticClass:"alert"},[t._v(" This website will be able to see your top artists and tracks, and make both public and private playlists on your behalf. This is all done in your web browser. ")])])])}),p=[],d={name:"LoginView",data(){return{auth_base:"https://accounts.spotify.com/authorize",use_state:!0,client_id:"3a1795e9d55445b0aa0c05dd74c866fb",scopes:["user-top-read","playlist-modify-public","playlist-modify-private","playlist-modify-public","playlist-modify-private"],show_dialog:!1}},computed:{spotify_auth_url(){let t=["client_id="+this.client_id,"response_type=token","redirect_uri="+encodeURIComponent(this.auth_redirect),"scope="+encodeURIComponent(this.scopes.join(" ")),"show_dialog="+this.show_dialog];if(this.use_state){let e=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);t.push("state="+e),sessionStorage.setItem(this.storage_key.state,e)}return`${this.auth_base}?${t.join("&")}`},error(){let t=new URLSearchParams(window.location.search.slice(1)).get("error");return t||""}}},_=d,h=(a("840e"),a("0f47")),m=Object(h["a"])(_,c,p,!1,null,"3ef742d8",null),f=m.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"main_screen"}},[a("Control",{attrs:{dev:t.dev_mode,preview:t.preview_mode,auth_redirect:t.auth_redirect,data_exists:0!==t.data.length,is_track_data:"Tracks"===t.config.type},on:{playlist_export:function(e){t.playlist_export_modal=!0},user_id:function(e){t.user_id=e},data_request:t.get_data}}),t.error?a("div",{staticClass:"error"},[t._v(t._s(t.error))]):a("div",{attrs:{id:"data_view"}},t._l(t.items,(function(e){return a(t.config.type.slice(0,-1),{key:e.uri,tag:"component",attrs:{item:e}})})),1),t.playlist_export_modal?a("PlaylistExport",{attrs:{data:t.data,config:t.config,user_id:t.user_id},on:{close:function(e){t.playlist_export_modal=!1}}}):t._e()],1)},y=[],g=a("e2d4"),C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"control"}},[t.username?a("div",{attrs:{id:"user_data"}},[t.user.image?a("img",{staticClass:"profile_image",attrs:{src:t.user.image,alt:t.user.name+"'s profile picture",width:t.img_size,height:t.img_size}}):a("icon",{attrs:{type:"notes",size:t.img_size,border:Math.floor(t.img_size/2),primary:t.css_var("--missing-picture-foreground"),background:t.css_var("--missing-picture-background")}}),t._v(" "+t._s(t.username)+" ")],1):t._e(),a("div",{attrs:{id:"type"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.type=e.target.multiple?a:a[0]},function(e){return t.verify_request_amount()}]}},[a("option",{attrs:{value:"",disabled:""}},[t._v("Select a Type")]),a("option",[t._v("Tracks")]),a("option",[t._v("Artists")])])]),a("div",{attrs:{id:"duration"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.duration,expression:"duration"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.duration=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[t._v("Select a Duration")]),a("option",{attrs:{value:"short_term"}},[t._v("~4 Weeks")]),a("option",{attrs:{value:"medium_term"}},[t._v("~6 Months")]),a("option",{attrs:{value:"long_term"}},[t._v("Several Years")])])]),a("div",{attrs:{id:"amount"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],attrs:{type:"number",min:"1",max:"50",placeholder:"How many?"},domProps:{value:t.amount},on:{input:[function(e){e.target.composing||(t.amount=e.target.value)},function(e){return t.verify_request_amount()}]}})]),t.type&&t.duration&&!t.error?a("div",{attrs:{id:"data_button"}},[a("button",{on:{click:function(e){return e.target!==e.currentTarget?null:t.data_request()}}},[t._v(" "+t._s(t.button_text)+" ")])]):t._e(),t.data_exists&&t.is_track_data?a("div",{attrs:{id:"playlist_button"}},[a("button",{on:{click:function(e){return e.target!==e.currentTarget?null:t.event("playlist_export")}}},[t._v(" Export Playlist ")])]):t._e(),t.error?a("div",{attrs:{id:"error"}},[t._v(" "+t._s(t.error)+" ")]):t._e()])},b=[],w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:t.div_styles,attrs:{id:"icon"}},["notes"===t.type?a("span",{style:t.span_styles},[a("svg",{attrs:{width:t.inner_size,height:t.inner_size,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("rect",{attrs:{width:t.inner_size,height:t.inner_size,fill:"none",rx:"0",ry:"0"}}),a("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.4911 2.11667L21.4511 4.09667C21.9411 4.34667 22.1411 4.93667 21.8911 5.43667C21.6411 5.93667 21.0411 6.13667 20.5511 5.88667L18.0011 4.61667L17.9911 16.4367C17.9911 16.4467 17.9936 16.4567 17.9961 16.4667C17.9986 16.4767 18.0011 16.4867 18.0011 16.4967C18.0011 18.4267 16.4311 19.9967 14.5011 19.9967C12.5711 19.9967 11.0011 18.4267 11.0011 16.4967C11.0011 14.5667 12.5711 12.9967 14.5011 12.9967C15.0411 12.9967 15.5411 13.1267 16.0011 13.3467L16.0111 3.10667C15.9911 2.99667 16.0011 2.87667 16.0311 2.75667C16.1711 2.14667 16.9411 1.80667 17.4911 2.11667ZM12.8911 5.43664C12.6511 5.93664 12.0511 6.13664 11.5511 5.88664L9.0011 4.61664L8.9911 18.4366C8.9911 18.4466 8.9936 18.4566 8.9961 18.4666C8.9986 18.4766 9.0011 18.4866 9.0011 18.4966C9.0011 20.4266 7.4311 21.9966 5.5011 21.9966C3.5711 21.9966 2.0011 20.4266 2.0011 18.4966C2.0011 16.5666 3.5711 14.9966 5.5011 14.9966C6.0411 14.9966 6.5411 15.1266 7.0011 15.3466L7.0111 3.10664C6.9911 2.99664 7.0011 2.87664 7.0311 2.76664C7.1711 2.14664 7.9411 1.81664 8.4911 2.12664L12.4411 4.09664C12.9411 4.34664 13.1411 4.94664 12.8911 5.43664Z",fill:t.primary}})])]):"note_filled"===t.type?a("span",{style:t.span_styles},[a("svg",{attrs:{width:t.inner_size,height:t.inner_size,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("rect",{attrs:{width:t.inner_size,height:t.inner_size,fill:"none",rx:"0",ry:"0"}}),a("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 2C6.49 2 2 6.49 2 12C2 17.51 6.49 22 12 22C17.51 22 22 17.51 22 12C22 6.49 17.51 2 12 2ZM12.6192 6.20784L15.2201 7.68004C15.5101 7.84004 15.6101 8.21004 15.4401 8.50004C15.3301 8.69004 15.1301 8.80005 14.9201 8.80005C14.8201 8.80005 14.7201 8.77004 14.6301 8.72004L12.8699 7.72372V15.6585C12.8701 15.6723 12.8701 15.6861 12.87 15.7C12.87 16.91 11.88 17.9 10.67 17.9C9.45997 17.9 8.46997 16.91 8.46997 15.7C8.46997 14.49 9.45997 13.5 10.67 13.5C11.0299 13.5 11.3698 13.5862 11.6699 13.7387V6.69998C11.6699 6.60119 11.6941 6.50777 11.7369 6.42537C11.7411 6.41687 11.7455 6.40842 11.7501 6.40004C11.7561 6.39019 11.7623 6.38054 11.7687 6.37111C11.8639 6.22688 12.0195 6.12563 12.1988 6.1042C12.2802 6.09357 12.3641 6.09981 12.4457 6.12505C12.5086 6.14354 12.5671 6.17174 12.6192 6.20784Z",fill:t.primary}})])]):"palette"===t.type?a("span",{style:t.span_styles},[a("svg",{attrs:{width:t.inner_size,height:t.inner_size}},[a("rect",{attrs:{width:t.inner_size,height:t.inner_size,fill:"none",rx:"0",ry:"0"}}),a("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.2516 20.3664C12.173 20.3884 12.0894 20.4 12 20.4C11.9227 20.4 11.8455 20.3993 11.7686 20.3978C11.7126 20.3993 11.6564 20.4 11.6 20.4C11.2372 20.4 10.8834 20.3691 10.5425 20.3104C5.7105 19.7107 2 16.1737 2 11.9C2 7.2056 6.47715 3.40002 12 3.40002C15.7082 3.40002 18.945 5.11567 20.6717 7.66406C20.6905 7.69181 20.7029 7.72492 20.7093 7.76311C21.2826 8.51263 21.5525 9.44282 21.3862 10.386C21.1499 11.7265 20.0945 12.7409 18.7432 13.1075C18.6959 13.1025 18.6482 13.1 18.6001 13.1C18.3889 13.1 18.1853 13.1491 17.9942 13.2401L17.9745 13.2418L17.9718 13.251C17.175 13.6461 16.6001 14.7723 16.6001 16.1V16.1001C16.6001 16.1342 16.6001 16.1683 16.6009 16.2021L16.5988 16.3132L16.5992 16.3295L16.5986 16.3764L16.5999 16.3784L16.6 16.4C16.6 18.4325 14.7051 20.1109 12.2516 20.3664ZM12.0566 19.1638C11.9755 19.1925 11.8879 19.2078 11.7928 19.2078C7.0471 19.2078 3.19995 15.9378 3.19995 11.9039C3.19995 7.87006 7.0471 4.59998 11.7928 4.59998C14.882 4.59998 17.8404 5.876 19.3701 7.94922C20.0399 8.54236 20.3957 9.32338 20.2583 10.103C20.0591 11.2322 19.4734 11.9526 18.2539 12.0036C17.5102 11.955 16.5185 12.6539 15.9177 13.9423C15.752 14.2978 15.6278 14.6532 15.5447 14.9934C15.5431 15.0019 15.5412 15.0106 15.539 15.0195C15.439 15.4289 15.4192 15.7734 15.4218 15.8945L15.419 15.8969C15.4158 16.046 15.4228 16.1878 15.44 16.3202C15.3393 17.8505 13.8796 19.0768 12.0566 19.1638ZM13.5 7C13.5 7.82843 12.8284 8.5 12 8.5C11.1715 8.5 10.5 7.82843 10.5 7C10.5 6.17157 11.1715 5.5 12 5.5C12.8284 5.5 13.5 6.17157 13.5 7ZM8.99995 8.5C8.99995 9.32843 8.32838 10 7.49995 10C6.67152 10 5.99995 9.32843 5.99995 8.5C5.99995 7.67157 6.67152 7 7.49995 7C8.32838 7 8.99995 7.67157 8.99995 8.5ZM11.5 18C12.8807 18 14 17.1046 14 16C14 14.8954 12.8807 14 11.5 14C10.1192 14 8.99995 14.8954 8.99995 16C8.99995 17.1046 10.1192 18 11.5 18ZM11.5 16.8C12.2179 16.8 12.8 16.4418 12.8 16C12.8 15.5582 12.2179 15.2 11.5 15.2C10.782 15.2 10.2 15.5582 10.2 16C10.2 16.4418 10.782 16.8 11.5 16.8ZM16.5 10C17.3284 10 18 9.32843 18 8.5C18 7.67157 17.3284 7 16.5 7C15.6715 7 15 7.67157 15 8.5C15 9.32843 15.6715 10 16.5 10ZM5.69995 14C6.52838 14 7.19995 13.3284 7.19995 12.5C7.19995 11.6716 6.52838 11 5.69995 11C4.87152 11 4.19995 11.6716 4.19995 12.5C4.19995 13.3284 4.87152 14 5.69995 14Z",fill:t.primary}})])]):"info"===t.type?a("span",{style:t.span_styles},[a("svg",{attrs:{width:t.inner_size,height:t.inner_size,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("rect",{attrs:{width:t.inner_size,height:t.inner_size,fill:"none",rx:"0",ry:"0"}}),a("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2 12C2 6.49 6.49 2 12 2C17.51 2 22 6.49 22 12C22 17.51 17.51 22 12 22C6.49 22 2 17.51 2 12ZM4 12C4 16.41 7.59 20 12 20C16.41 20 20 16.41 20 12C20 7.59 16.41 4 12 4C7.59 4 4 7.59 4 12ZM12 9C12.5523 9 13 8.55228 13 8C13 7.44772 12.5523 7 12 7C11.4477 7 11 7.44772 11 8C11 8.55228 11.4477 9 12 9ZM12 10C11.45 10 11 10.45 11 11V16C11 16.55 11.45 17 12 17C12.55 17 13 16.55 13 16V11C13 10.45 12.55 10 12 10Z",fill:t.primary}})])]):t._e()])},x=[],k={name:"Icon",props:{type:{type:String,required:!0},primary:{type:String,default:"#FFFFFF",required:!1},secondary:{type:String,default:"#FFFFFF",required:!1},size:{type:Number,default:25,required:!1},inner_size:{type:Number,default:null,required:!1},background:{type:String,default:null,required:!1},border:{type:Number,default:0,required:!1}},data(){return{div_styles:{"background-color":this.background,"border-radius":this.border+"px",width:this.size+"px",height:this.size+"px"}}},computed:{span_styles(){if(this.inner_size)return{width:this.inner_size+"px",height:this.inner_size+"px"};let t=Math.floor(.6*this.size);return{width:t+"px",height:t+"px"}}}},$=k,T=(a("b3c6"),Object(h["a"])($,w,x,!1,null,null,null)),z=T.exports,M={name:"ControlBar",props:{data_exists:{type:Boolean,required:!0},is_track_data:{type:Boolean,required:!1,default:!1},dev:{type:Boolean,required:!0},preview:{type:Boolean,required:!0}},components:{icon:z},data(){return{img_size:50,error:"",user:{name:"",image:""},type:"",duration:"",amount:""}},computed:{username(){return this.user.name?this.user.name:this.dev?"Developer Mode":this.preview?"Preview Mode":""},button_text(){let t="Get Top";switch(this.amount){case"":return`${t} 10 ${this.type}`;case"1":return`${t} ${this.type.slice(0,-1)}`;default:return`${t} ${this.amount} ${this.type}`}}},methods:{event(t,e=null){this.$emit(t,e)},verify_request_amount(){let t;try{t=parseInt(this.amount)}catch(e){return void(this.error=e)}return t>50?void(this.error="Cannot request more than 50 "+this.type.toLowerCase()):t<1?void(this.error="Cannot get 0 or fewer "+this.type.toLowerCase()):(this.error="",t)},data_request(){this.event("data_request",{type:this.type,limit:this.amount||"10",duration:this.duration})}},mounted:function(){this.$nextTick((function(){this.preview||this.dev||g["get"](this.api_url+"/me",{headers:{Authorization:"Bearer "+this.api_token}}).then(t=>{if(t.error&&!this.preview&&!this.dev)return window.location.hash="",void(window.location.href=`${this.auth_redirect}?error=${encodeURI(t.error)}`);let e=t.data;this.user.name=e.display_name||e.id,this.user.image=e.images.length>0?e.images[0].url:"",this.$emit("user_id",e.id)}).catch(t=>{if(401==t.response.status)return this.auth_expired(t);console.error(t)})}))}},P=M,S=(a("954a"),Object(h["a"])(P,C,b,!1,null,null,null)),L=S.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"image"},[0!==t.item.images.length?a("img",{attrs:{src:t.item.images[0].url,alt:t.item.name+" profile image"}}):a("icon",{attrs:{type:"notes",size:230,border:115,primary:t.css_var("--missing-picture-foreground"),background:t.css_var("--missing-picture-background")}})],1),a("div",{staticClass:"artist-info"},[a("div",{staticClass:"title"},[t._v(t._s(t.item.name))]),a("div",{staticClass:"subtitle"},[t._v(t._s(t.genres))])]),a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:t.popularity_tooltip,expression:"popularity_tooltip",modifiers:{auto:!0}}],staticClass:"popularity corner",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.show_pop_modal=!0}}},[t._v(" "+t._s(t.item.popularity)+" ")]),a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:t.followers_tooltip,expression:"followers_tooltip",modifiers:{auto:!0}}],staticClass:"followers corner"},[t._v(" "+t._s(t.item.followers.total.toLocaleString())+" ")]),t.show_pop_modal?a("PopularityModal",{on:{close:function(e){t.show_pop_modal=!1}}}):t._e()],1)},q=[],O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade"},on:{"after-enter":function(e){t.content=!0}}},[t.container?a("div",{staticClass:"modal-container",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.content=!1}}},[a("transition",{attrs:{name:"burst"},on:{"after-leave":function(e){return t.$emit("close")}}},[t.content?a("div",{staticClass:"modal"},[a("h2",{staticClass:"center"},[t._v("How is Popularity Calculated?")]),a("p",{staticClass:"center"},[t._v(" Popularity is a value between 0 and 100 that is calculated by Spotify based on how many plays the song/artist has recieved and how recent those plays are. ")]),a("p",{staticClass:"center"},[t._v(" This means that an artist/song that has had 100 plays today will have a higher popularity than a song/artist that has 100 from a month ago. ")]),a("p",{staticClass:"center"},[t._v(" This number is not updated in real time so refreshing the page will not reflect it's absolute accurate value. ")])]):t._e()])],1):t._e()])},A=[],I={name:"PopularityModal",data(){return{container:!1,content:!1}},mounted(){this.$nextTick((function(){this.container=!0}))}},E=I,F=(a("95e4"),Object(h["a"])(E,O,A,!1,null,"8385c53a",null)),B=F.exports,D={name:"ArtistCard",components:{PopularityModal:B,icon:z},props:{item:{type:Object,required:!0}},data(){return{followers_tooltip:"Total Followers",popularity_tooltip:"Artist Popularity",show_pop_modal:!1}},computed:{genres(){let t=[];for(var e of this.item.genres)t.push(e.toTitleCase());return t.join(", ")}},methods:{}},N=D,Z=(a("bde7"),Object(h["a"])(N,j,q,!1,null,"78ab376b",null)),V=Z.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card",on:{click:function(e){t.show_track_info=!0}}},[a("div",{staticClass:"image"},[0!==t.item.album.images.length?a("img",{attrs:{src:t.item.album.images[0].url,alt:t.item.album.name+" cover art"}}):a("icon",{attrs:{type:"notes",size:200,border:100,primary:t.css_var("--missing-picture-foreground"),background:t.css_var("--missing-picture-background")}})],1),a("div",{staticClass:"track-info"},[a("div",{staticClass:"title"},[t._v(t._s(t.item.name))]),a("div",{staticClass:"subtitle"},[t._v(" "+t._s(t.item.artists.map((function(t){return t.name})).join(", "))+" ")])]),a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:t.popularity_tooltip,expression:"popularity_tooltip",modifiers:{auto:!0}}],staticClass:"popularity corner",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.show_pop_modal=!0}}},[t._v(" "+t._s(t.item.popularity)+" ")]),a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:t.duration_tooltip,expression:"duration_tooltip",modifiers:{auto:!0}}],staticClass:"duration corner"},[t._v(" "+t._s(t.duration)+" ")]),t.show_pop_modal?a("PopularityModal",{on:{close:function(e){t.show_pop_modal=!1}}}):t._e(),t.show_track_info?a("TrackInfo",{attrs:{track:t.item},on:{close:function(e){t.show_track_info=!1}}}):t._e()],1)},U=[],J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade"},on:{"after-enter":function(e){t.content=!0}}},[t.container?a("div",{staticClass:"modal-container",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.content=!1}}},[a("transition",{attrs:{name:"burst"},on:{"after-leave":function(e){return t.$emit("close")}}},[t.content?a("div",{staticClass:"modal"},[a("h2",{on:{click:function(e){if(e.target!==e.currentTarget)return null;t.show_all_feature_info=!0}}},[t._v(' "'+t._s(t.track.name)+'" Information '),a("div",{staticClass:"release-date"},[a("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.release_date_tooltip,expression:"release_date_tooltip"}]},[t._v(" "+t._s(t.track.album.release_date.replace(/-/g,"/"))+" ")])])]),a("div",{staticClass:"audio-features-container"},t._l(t.data_wanted,(function(e){return a("div",{key:e,staticClass:"audio-feature",attrs:{id:e+"-container"}},[a("percent",{attrs:{size:40,progress:t.get_percentage(e),color:t.css_var("--percent-filled"),"empty-color":t.css_var("--percent-empty"),loading:!t.data_populated,"font-color":t.css_var("--percent-text"),half:!0}}),t._v(" "+t._s(e.toTitleCase())+" ")],1)})),0)]):t._e()])],1):t._e()])},W=[],H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade"},on:{"after-enter":function(e){t.content=!0}}},[t.container?a("div",{staticClass:"modal-container",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.content=!1}}},[a("transition",{attrs:{name:"burst"},on:{"after-leave":function(e){return t.$emit("close")}}},[t.content?a("div",{staticClass:"modal"},["all"===t.feature?a("h2",[t._v("Audio Features Information")]):a("h2",[t._v(t._s(t.feature.toTitleCase())+" Information")]),t.is_feature("acousticness")?a("div",["all"===t.feature?a("h3",[t._v("Acousticness")]):t._e(),a("p",[t._v(" This is the confidence that the track is acoustic or not, 100 means that Spotify feels strongly that this track is acoustic. ")])]):t._e(),"all"===t.feature?a("div",{staticClass:"separator"}):t._e(),t.is_feature("danceability")?a("div",["all"===t.feature?a("h3",[t._v("Danceability")]):t._e(),a("p",[t._v(" A value of 0.0 is least danceable and 1.0 is most danceable. The danceability of a track is an indication of how well a track can be danced to. A value closer to 0 is least danceable, and 100 is most danceable. This is based on a combination of multiple factors including: ")]),a("ul",[a("li",[t._v("Tempo")]),a("li",[t._v("Rhythm stability")]),a("li",[t._v("Beat strength")])])]):t._e(),"all"===t.feature?a("div",{staticClass:"separator"}):t._e(),t.is_feature("energy")?a("div",["all"===t.feature?a("h3",[t._v("Energy")]):t._e(),a("p",[t._v(" Description ")])]):t._e(),"all"===t.feature?a("div",{staticClass:"separator"}):t._e(),t.is_feature("instrumentalness")?a("div",["all"===t.feature?a("h3",[t._v("Instrumentalness")]):t._e(),a("p",[t._v(" Description ")])]):t._e(),"all"===t.feature?a("div",{staticClass:"separator"}):t._e(),t.is_feature("liveness")?a("div",["all"===t.feature?a("h3",[t._v("Liveness")]):t._e(),a("p",[t._v(" Description ")])]):t._e(),"all"===t.feature?a("div",{staticClass:"separator"}):t._e(),t.is_feature("loudness")?a("div",["all"===t.feature?a("h3",[t._v("Loudness")]):t._e(),a("p",[t._v(" Description ")])]):t._e(),"all"===t.feature?a("div",{staticClass:"separator"}):t._e(),t.is_feature("speechiness")?a("div",["all"===t.feature?a("h3",[t._v("Speechiness")]):t._e(),a("p",[t._v(" Description ")])]):t._e(),"all"===t.feature?a("div",{staticClass:"separator"}):t._e(),t.is_feature("valence")?a("div",["all"===t.feature?a("h3",[t._v("Valence")]):t._e(),a("p",[t._v(" Description ")])]):t._e(),"all"===t.feature?a("div",{staticClass:"separator"}):t._e(),t.is_feature("Popularity")?a("div",["all"===t.feature?a("h3",[t._v("Popularity")]):t._e(),a("p",[t._v(" Description ")])]):t._e()]):t._e()])],1):t._e()])},Y=[],G={name:"TrackFeaturesInformation",props:{feature:{type:String,required:!1,default:"all"}},created(){},data(){return{content:!1,container:!1}},mounted(){this.$nextTick((function(){this.container=!0}))},methods:{is_feature(t){return"all"===this.feature||t===this.feature}}},K=G,Q=(a("2177"),Object(h["a"])(K,H,Y,!1,null,"693aa3ac",null)),X=(Q.exports,{name:"DetailedTrackInfo",components:{},props:{track:{type:Object,required:!0}},data(){return{container:!1,content:!1,show_feature_info:!1,show_all_feature_info:!1,data_populated:!1,data_points:{},data_wanted:["acousticness","danceability","energy","instrumentalness","liveness","loudness","speechiness","valence","popularity"],months:{"01":"January","02":"Febuary","03":"March","04":"April","05":"May","06":"June","07":"July","08":"August","09":"September",10:"October",11:"November",12:"December"}}},mounted(){this.$nextTick((function(){this.container=!0,g["get"](`${this.api_url}/audio-features/${this.track.id}`,{headers:{Authorization:"Bearer "+this.api_token}}).then(t=>{for(var e of this.data_wanted)this.data_points[e]=t.data[e];this.data_populated=!0}).catch(t=>{if(401==t.response.status)return this.auth_expired(t);console.error(t)})}))},computed:{release_date_tooltip(){let t=this.track.album.release_date.split("-");switch(this.track.album.release_date_precision){case"year":return release[0];case"month":return`${this.months[t[1]]}, ${t[0]}`;case"day":return`${this.months[t[1]]} ${t[2]}, ${t[0]}`;default:return""}}},methods:{get_percentage(t){let e=this.data_points[t];switch(t){case"loudness":return Math.round(10**(e/10)*100);case"popularity":return this.track.popularity;default:return Math.round(100*e)}}}}),tt=X,et=(a("62cf"),Object(h["a"])(tt,J,W,!1,null,"a434bfa0",null)),at=et.exports,rt={name:"TrackCard",components:{PopularityModal:B,TrackInfo:at},props:{item:{type:Object,required:!0}},data(){return{duration_tooltip:"Song Duration",popularity_tooltip:"Song Popularity",show_pop_modal:!1,show_track_info:!1}},computed:{duration(){let t=Math.trunc(this.item.duration_ms/1e3),e=t%60;t=Math.trunc(t/60);let a=t%60;t=Math.trunc(t/60);let r=t%24;return e<10&&(e="0"+e),`${r>0?r+":":""}${a}:${e}`}},methods:{}},it=rt,st=(a("f07f"),Object(h["a"])(it,R,U,!1,null,"cc0fb24a",null)),nt=st.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade"},on:{"after-enter":function(e){t.content=!0}}},[t.container?a("div",{staticClass:"modal-container",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.content=!1}}},[a("transition",{attrs:{name:"burst"},on:{"after-leave":function(e){return t.$emit("close")}}},[t.content?a("div",{staticClass:"modal"},[a("h2",{staticClass:"center"},[t._v("Export Playlist")]),a("div",{staticClass:"modal-form"},[a("div",{staticClass:"input-row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{id:"playlist-name",type:"text",name:"Playlist Name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),a("span",{staticClass:"char_counter"},[t._v(" "+t._s(t.name.length)+"/100 ")])]),a("div",{staticClass:"input-row"},[a("textarea-autosize",{attrs:{placeholder:"Playlist Description","min-height":100},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),a("div",{staticClass:"input-row"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.is_public,expression:"is_public"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.is_public=e.target.multiple?a:a[0]}}},[a("option",{domProps:{value:!1}},[t._v("Private Playlist")]),a("option",{domProps:{value:!0}},[t._v("Public Playlist")])]),a("button",{attrs:{disabled:!t.can_export},on:{click:function(e){return e.target!==e.currentTarget?null:t.create_playlist()}}},[t._v(" Create Playlist ")])])]),t.success?a("div",{staticClass:"alert success"},[a("a",{attrs:{href:t.playlist.url}},[t._v("Playlist")]),t._v(" created successfully! ")]):t._e()]):t._e()])],1):t._e()])},lt=[],ut={name:"PlaylistExportModal",props:{config:{type:Object,required:!0},user_id:{type:String,required:!0},data:{type:Array,required:!0}},data(){return{container:!1,content:!1,create_button_enabled:!0,name:"",is_public:!1,description:"Playlist auto-generated by Top Lists for Spotify",success:!1,playlist:{id:null,url:null},exported_settings:null}},mounted(){let t=new Date,e=t.getMonth()+1;e=e<10?"0"+e:e,this.name=`Top ${this.config.limit||10} - ${t.getFullYear()}/${e}/${t.getDate()}`,this.$nextTick((function(){this.container=!0}))},computed:{payload(){return{name:this.name,description:this.description,public:this.is_public}},can_export(){return!(this.name.length>100)&&(!this.exported_settings||(this.payload.name!=this.exported_settings.name||this.payload.description!=this.exported_settings.description||this.payload.is_public!=this.exported_settings.is_public))}},methods:{create_playlist(){let t=this.payload;this.exported_settings=t,g["post"](`${this.api_url}/users/${this.user_id}/playlists`,JSON.stringify(t),{headers:{Authorization:"Bearer "+this.api_token,"Content-Type":"application/json"}}).then(t=>{this.playlist.id=t.data.id,this.playlist.url=t.data.external_urls.spotify,this.populate_playlist()}).catch(t=>{if(401==t.response.status)return this.auth_expired(t);console.error(t)})},populate_playlist(){let t={uris:[]};for(var e of this.data)t.uris.push(e.uri);g["post"](`${this.api_url}/playlists/${this.playlist.id}/tracks`,t,{headers:{Authorization:"Bearer "+this.api_token,"Content-Type":"application/json"}}).then(t=>{this.success=!0}).catch(t=>{if(401==t.response.status)return this.auth_expired(t);console.error(t)})}}},ct=ut,pt=(a("a1b0"),Object(h["a"])(ct,ot,lt,!1,null,"0a2086f2",null)),dt=pt.exports,_t={name:"MainView",props:{preview_mode:{type:Boolean,required:!0},dev_mode:{type:Boolean,required:!0}},components:{Control:L,Track:nt,Artist:V,PlaylistExport:dt},data(){return{config:{},data:[],error:"",playlist_export_modal:!1,user_id:null}},computed:{items(){return this.data.filter(t=>t.type===this.config.type.slice(0,-1).toLowerCase())}},methods:{get_data(t){let e=`${this.api_url}/me/top/${t.type.toLowerCase()}`,a=t.limit;e+=`?limit=${a}&time_range=${t.duration}`,g["get"](e,{headers:{Authorization:"Bearer "+this.api_token}}).then(e=>{this.error="",this.config=t,this.data=e.data.items}).catch(t=>{if(this.error=`${t.name}: ${t.message}`,401==t.response.status)return this.auth_expired(t);console.error(t)})}}},ht=_t,mt=(a("88d4"),Object(h["a"])(ht,v,y,!1,null,"79233f52",null)),ft=mt.exports,vt={name:"App",components:{LoginCard:f,MainView:ft},computed:{is_dev(){let t=new URLSearchParams(window.location.search.slice(1));return null!=t.get("dev")&&"false"!==t.get("dev")},is_preview(){let t=new URLSearchParams(window.location.search.slice(1));return null!=t.get("preview")&&"false"!==t.get("preview")},is_authed(){let t=new URLSearchParams(window.location.hash.slice(1));return!(!this.is_dev&&!this.is_preview)||(t.get("access_token")&&(sessionStorage.getItem(this.storage_key.state)===t.get("state")?(console.info("State compare success"),sessionStorage.setItem(this.storage_key.token,t.get("access_token")),sessionStorage.removeItem(this.storage_key.state),window.location.hash=""):console.error("State compare failed")),!!sessionStorage.getItem(this.storage_key.token))}}},yt=vt,gt=(a("034f"),Object(h["a"])(yt,l,u,!1,null,null,null)),Ct=gt.exports;const bt="https://oliver.akins.me/top-lists",wt=bt,xt=""+wt,kt="https://api.spotify.com/v1",$t={token:"top-lists-auth-token",state:"top-lists-auth-state"};r["a"].config.productionTip=!1,i["a"].enabled=window.innerWidth>768,r["a"].use(i["a"]),r["a"].use(s["a"]),r["a"].use(o.a,"percent"),r["a"].mixin({data(){return{api_url:kt,auth_redirect:xt,storage_key:$t,home_page:wt}},computed:{api_token(){return sessionStorage.getItem(this.storage_key.token)}},methods:{css_var(t){return getComputedStyle(document.documentElement).getPropertyValue(t)},auth_expired(t=null){sessionStorage.removeItem(this.storage_key.token),window.location.hash="",window.location.href=t?`${this.home_page}?error=${t}`:this.home_page}}});new r["a"]({render:t=>t(Ct)}).$mount("#app")},"5c89":function(t,e,a){},"62cf":function(t,e,a){"use strict";var r=a("6bb0"),i=a.n(r);i.a},"6bb0":function(t,e,a){},"6c50":function(t,e,a){},"70c2":function(t,e,a){},"840e":function(t,e,a){"use strict";var r=a("1662"),i=a.n(r);i.a},"88d4":function(t,e,a){"use strict";var r=a("3a00"),i=a.n(r);i.a},"954a":function(t,e,a){"use strict";var r=a("4442"),i=a.n(r);i.a},"95e4":function(t,e,a){"use strict";var r=a("02bd"),i=a.n(r);i.a},a1b0:function(t,e,a){"use strict";var r=a("70c2"),i=a.n(r);i.a},b3c6:function(t,e,a){"use strict";var r=a("dcfc"),i=a.n(r);i.a},bde7:function(t,e,a){"use strict";var r=a("6c50"),i=a.n(r);i.a},dcfc:function(t,e,a){},f07f:function(t,e,a){"use strict";var r=a("0c56"),i=a.n(r);i.a}});
//# sourceMappingURL=app.992adeb3.js.map